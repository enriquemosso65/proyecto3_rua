<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aplicaci√≥n de las Ecuaciones de la Recta en visi√≥n artificial: Detecci√≥n de Pose</title>
    <link rel="stylesheet" href="./style.css">
    <link href="https://fonts.googleapis.com/css2?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="./hl.css">
    <link rel="stylesheet" href="./game.css">
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"> </script>
    <link href='https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css' rel='stylesheet'/><link rel="stylesheet" href="./style.css">
</head>
<body>
        <header id="header" class="header">
            <nav class="navbar">
                <a href="/" class="navbar__logo">
                    <img src="./images/unam.png" alt="">
                </a>
                <p> Proyecto <br>
                    UNAM-DGAPA-PAPIME <br>
                    PE107420
                </p>
                <div id="toggle"></div>
                <div id="sidebar">
                    <ul>
                        <li><a href="#obj">OBJETIVO</a></li>
                        <li><a href="#intro">INTRODUCCION</a></li>
                        <li><a href="#def">DEFINICION DEL PROBLEMA</a></li>
                        <li><a href="#req">REQUERIMIENTOS</a></li>
                        <li><a href="#pro">PROCEDIMIENTO</a></li>
                        <li><a href="#cues">CUESTIONARIO</a></li>
                        <li><a href="#conc">REFLEXIONES Y CONCLUSIONES</a></li>
                    </ul>
                </div>
            </nav>
        </header>
        <div id="_progress"></div>
            <!-- hero section -->
            <div class="hero">
                <div class="hero__content">
                    <h1>Aplicaci√≥n de las Ecuaciones de la Recta en visi√≥n artificial: Detecci√≥n de Pose</h1>
                    <p> </p>
                    <a href="#obj" class="button">Comenzar</a>
                </div>
            </div>
            <!-- Table -->
            <div class="tabla">
                <div class="tabla__container">
                    <div>
                        <p class="topline">Asignatura relacionada</p> <br>
                    </div>
                    <div>
                        <p class="text__table">Geometr√≠a Anal√≠tica</p> <br>
                    </div>
                    <div>
                        <p class="topline">Semestre </p> <br>
                    </div>
                    <div>
                        <p class="text__table">	Primer semestre</p><br>
                    </div>
                    <div>
                        <p class="topline">Tema relacionado	</p> <br>
                    </div>
                    <div>
                            <p class="text__table" style="text-align: left;"><b> Plan 1279 y Plan 2119</b> <br> <br>
                                1. Elementos de Trigonometr√≠a y Geometr√≠a Anal√≠tica en el espacio de dos dimensiones      <br><br>
                                1.5  La recta: definici√≥n de pendiente y de √°ngulo de inclinaci√≥n. Ecuaciones de la recta en las formas punto pendiente,
                                dos puntos y pendiente-ordenada al origen. Ecuaci√≥n general de la recta. C√°lculo del √°ngulo entre dos rectas.<br><br>
                            </p> <br>         
                    </div>
                    <div>
                        <p class="topline">Nombre del caso pr√°ctico	</p>  
                    </div>
                    <div>
                        <p class="text__table">Aplicaci√≥n de las Ecuaciones de la Recta en visi√≥n artificial: Detecci√≥n de Pose</p><br>
                    </div>
                    <div>
                        <br>
                        <p class="topline"> Trabajo realizado con el apoyo del Programa UNAM-DGAPA-PAPIME PE107420	</p>
                    </div>
                </div>
                <hr id="thread3" class="right">
            </div>
            <!-- objetivos -->
            <div class="objetivos" id="obj">
                <div class="objetivos__container">
                    <div>
                        <h1 class="objetivos__heading">Objetivo</h1>
                    </div>
                    <div  class="text__cont">
                        <p>
                            Dise√±ar un detector de pose utilizando un detector de Puntos Clave y conceptos de Ecuaciones de la Recta.
                        </p>
                    </div>
                </div>
            </div>
            <!-- Introduccion -->
            <div class="contenedor-central" id="intro">
                <h1> Introducci√≥n</h1>
                <div>
                    <div class=" text__intro">
                        <!-- <p>Redacta tu introducci√≥n contestando a las siguientes preguntas</p>
                        <p>1. ¬øQu√© es un sistema de recomendaci√≥n?</p>    
                        <p>2. Menciona al menos 5 ejemplos de sistemas de recomendaci√≥n presentes en tu vida cotidiana.</p>     
                        <p>3. ¬øQu√© es el aprendizaje de m√°quinas?</p>     
                        <p>4. ¬øQu√© papel juegan la probabilidad y la estad√≠stica en los sistemas de recomendaci√≥n?</p>     
                        <p>5. Explica a detalle el teorema de Bayes.</p>     
                        <p>6. ¬øQu√© es un clasificador bayesiano ingenuo?</p>     
                        <p>Esta secci√≥n deben ser m√≠nimo 3 cuartillas con tus palabras o citando correctamente las fuentes si se requiere. Puedes usar fuentes en l√≠nea, pero no es v√°lido hacer ‚Äúcopiar y pegar‚Äù.</p>      -->
                        
                        <p>Seguramente has utilizado tecnolog√≠a que permite identificar el cuerpo humano completo, por ejemplo, en videojuegos interactivos, en la realizaci√≥n de efectos especiales o bien en el uso de bodytracking, pero te has preguntado; ¬øc√≥mo las computadoras son capaces de reconocer la figura humana?</p>
                        <br>
                        <p>El pilar de todas estas aplicaciones es la Estimaci√≥n de Pose, esta tecnolog√≠a esta construida por redes neuronales y permite obtener, a partir de una imagen o video, los puntos clave de un esqueleto humano digital. Es decir, estima las posiciones que ocupan cada una de las partes del cuerpo humano proyect√°ndolas en un plano 2D o 3D.  Existen diversas herramientas que permiten operar con esta tecnolog√≠a, estas dependen del √°rea al que este enfocada. En este caso se ha utilizado OpenPose, una biblioteca de visi√≥n artificial que permite, entre otras cosas, obtener un esqueleto humano simple por medio de Puntos Clave.</p>
                        <br>
                        <p>Adem√°s de su uso recreativo esta tecnolog√≠a tiene √°reas de aplicaci√≥n diversas, por ejemplo: Reconocimiento facial, Reconocimiento de gestos, Realidad aumentada. </p>
                    </div>
                </div>
            </div>
            <!-- Definicion del problema -->
            <div class="contenedor-central " style="background-color: #A89469;" id="def" >
                <h1> Definici√≥n del Problema</h1>
                <div>
                    <div class=" text__intro" style="text-align: justify;  ">
                        <p>Un equipo de programadores quiere desarrollar una app que sea capaz de ense√±ar Yoga a un usuario, entre muchas funciones, desean que la app muestre una posici√≥n de Yoga y el usuario intente hacerla. Si la posici√≥n es correcta entonces podr√° continuar la lecci√≥n. </p>
                        <br>
                        <p>¬øC√≥mo saber si el usuario est√° realizando correctamente una posici√≥n? Esta es una pregunta que se resuelve de manera sencilla: comparando una pose original y la pose del usuario. Es decir, comparando los grados de inclinaci√≥n de cada extremidad del cuerpo del usuario, con valores de referencia previamente asignados.</p>
                        <br>
                        <p>Para ello utilizaremos los conceptos b√°sicos que has aprendido hasta el momento de programaci√≥n y geometr√≠a anal√≠tica. Se te asignara el resultado de la estimaci√≥n de pose para que con ella puedas operar y encontrar los √°ngulos correspondientes.</p>
                    </div>
                </div>
            </div>
            <!-- Requerimientos -->
            <div class="requerimientos" id="req">
                <div class="requerimientos__container">
                    <div>
                        <h1 class="requerimientos__heading">Requerimientos</h1>
                    </div>
                    <div class="text__cont">
                                <p>1.- Como primer paso, necesitas instalar un IDE que te permita trabajar con lenguaje Python. Se recomienda utilizar Jupyter <a href="https://jupyter.org/try">https://jupyter.org/try </a> . En este documento, las capturas de pantalla muestran la programaci√≥n realizada en Jupyter.   </p> <br>
                                <!-- <p>2.- Tambi√©n necesitas una imagen en formato jpg, la cual deber√° tener el nombre imagen.jpg. </p> -->
                    </div>
                </div>
                <hr id="thread3" class="right">
            </div>
            <!-- Procedimiento -->
            <div class="contenedor-central " style="background-color:  #fff; color: rgb(36, 36, 36);"  id="pro">
                <h1> Procedimiento</h1>
                <div>
                    <div class=" text__intro" >
                        <p>1.- En el siguiente ejemplo, utilizamos una fotograf√≠a donde una persona tiene ambos brazos levantados. Se le aplico un algoritmo de Detecci√≥n de Puntos Clave (OpenPose) y se construy√≥ el siguiente modelo.</p>
                        <div class="contenedor_img " >
                            <img src="./images/poseestimation.png" class="imagen"   alt="Imagen-prueba">
                        </div>
                        <p>Puedes observar que se traza una l√≠nea verde que entrelaza varios puntos rojos, estos ser√°n las estimaciones que el algoritmo nombra como una parte del cuerpo humano: cuello, hombro derecho, codo derecho, mu√±eca derecha, etc. Debido a que la tecnolog√≠a es sencilla y se esta trabajando en ella, el algoritmo solo es capaz de detectar puntos clave espec√≠ficos, como puedes notar, omite los dedos. </p>
                        <!-- <p>Una vez que se obtuvieron los puntos clave, el algoritmo nos permite ver el valor de estos.</p> -->
                        <br>
                        <p>En la siguiente imagen puedes ver las coordenadas de 5 puntos clave, es decir 5 partes del cuerpo humano ya identificadas:</p>
                        <div class="contenedor_img " >
                            <img src="./images/coordenadas.png" class="imagen"   alt="Imagen-prueba">
                        </div>
                        <p>Observa que los valores en el eje Y est√°n inversos, por lo que deberas estar atento. </p>
                        <br>
                        <p>2.- Ahora que conoces los resultados del modelo, escribiras un programa que calcule las pendientes de esos puntos:</p>
                        <!-- <p>Es importante que repasemos los visto en clase.</p> -->
                        <p>Como primer paso  deber√°s importar el modulo Math, este te permitir√° hacer uso de las funciones matem√°ticas que tiene Python. </p>
                        <br>
                        <code_example title="C√ìDIGO FUENTE" lang="py">
                            import math
                        </code_example>
                        <br>
                        <p>A continuaci√≥n, debes declarar los puntos clave previos, haciendo uso de arreglos. Para cada Punto Clave usaras un arreglo √∫nico. De la siguiente manera:</p>
                        <code_example title="C√ìDIGO FUENTE" lang="py">
                            cuello = [372 , 416]
                            mu√±eca_izq = [558, 312]
                            codo_izq = [558,416]
                            mu√±eca_der = [220,291]
                            codo_der = [169,395]
                        </code_example>
                        <br>
                        <p>Puedes imprimir el contenido de los arreglos si utilizas la siguiente l√≠nea, para probar que tus arreglos est√°n funcionando de manera correcta.</p>
                        <br>
                        <code_example title="C√ìDIGO FUENTE" lang="py">
                            print("Coordenadas de: ","Cuello:", cuello, "Mu√±eca izquierda" , mu√±eca_izq, "Codo izquierdo",codo_izq, "Mu√±eca derecha",mu√±eca_der, "Codo derecho", codo_der)
                        </code_example>
                        <br>                        
                        <p>Recuerda que mediante los puntos en un plano cartesiano podemos saber la localizaci√≥n exacta de un elemento, en este caso ¬øC√≥mo es posible saber si una mano se encuentra levantada?, para ello debemos tomar los puntos que corresponden a las mu√±ecas y compararlos con respecto a un punto est√°tico. De esta manera conoceras si la posici√≥n de una mu√±eca con respecto a la posici√≥n del cuello es diferente.</p>
                        <br>
                        <p>Si una mu√±eca tiene un valor mayor que el del cuello en el eje Y, podemos decir que esa mano esta levantada. Por el contrario, si una mu√±eca tiene un valor menor que el valor del cuello en el eje Y , entonces esa mano no estar√° levantada.</p>
                        <p>Una vez que tengamos los valores haremos una comparaci√≥n con una estructura de control llamada en if, seguramente ya la conoces.</p>
                        <br>
                        <code_example title="C√ìDIGO FUENTE" lang="py">
                            if cuello and mu√±eca_izq and mu√±eca_der and mu√±eca_izq[1] < cuello[1] and mu√±eca_der[1] < cuello[1]:
                                print ("AMBOS BRAZOS ARRIBA!")
                            elif cuello and mu√±eca_der and mu√±eca_der[1] < cuello[1]:
                                print ("MANO DERECHA ARRIBA!")
                            elif cuello and mu√±eca_izq and mu√±eca_izq[1] < cuello[1]:
                                print("MANO IZQUIERDA ARRIBA!")
                            else:
                                print("AMBAS MANOS ABAJO!") 
                        </code_example>
                        <br>
                        <p>En este caso el resultado es:</p>
                        <div class="contenedor_img " >
                            <img src="./images/resultadoif.png" class="imagen"   alt="Imagen-prueba">
                        </div>
                        <p>Excelente, ahora que conoces la posici√≥n, es momento de obtener la pendiete de cada punto. Utilizaras como puntos de referencia: el cuello, el codo derecho y la mu√±eca derecha.</p>
                        <p>Como primer paso, obtendremos las coordenadas de cada punto: cuello, mu√±eca derecha y codo derecho:</p>
                        <!-- <div class="contenedor_img " >
                            <img src="./images/triangulo.png" class="imagen"   alt="Imagen-prueba">
                        </div> -->
                        <p>Como puedes ver en la figura, hemos formado intencionalmente un triangulo con las 3 coordenadas asignadas. Toma en cuenta que el eje Y esta inverso, se cuidadoso.</p>
                        <div class="contenedor_img " >
                            <img src="./images/grafica1.png" class="imagen"   alt="Imagen-prueba">
                        </div>
                        <p>Llamaremos a los puntos de la siguiente manera: A = Mu√±eca Derecha, B = Cuello, C = Codo.
                            Por lo que tenemos los siguientes segmentos 
                        </p>
                        <div class="contenedor_img " >
                            <img src="./images/pendientes.png" class="imagen"   alt="Imagen-prueba">
                        </div>
                        <p>Para obtener la pendiente de cada uno de los segmentos es necesario aplicar la formula:</p>
                        <!-- <p>FORMULA</p> -->
                        <p class="formula">
                            \[m = {Y_2 - Y_1 \over X_2 - X_1 }\]
                        </p>
                        
                        <p>Sustituyendo en la formula obtenemos que para cada pendiente::</p>
                        <br>
                        <code_example title="C√ìDIGO FUENTE" lang="py">
                            mCB = (cuello[1]-codo_der[1])/(cuello[0]-codo_der[0])
                            mCA = (mu√±eca_der[1]-codo_der[1])/(mu√±eca_der[0]-codo_der[0])
                            mBA = (mu√±eca_der[1]-cuello[1])/(mu√±eca_der[0]-cuello[0])
                            
                        </code_example>
                        <br>
                        <p>Ahora debes imprimir los resultados con la siguiente l√≠nea</p>
                        <br>
                        <code_example title="C√ìDIGO FUENTE" lang="py">
                            print("mCB: ",mCB)
                            print("mCA: ",mCA)
                            print("mBA: ",mBA)
                        </code_example>
                        <br>
                        <p> El resultado de las cada pendiente ser√°:</p>
                        <div class="contenedor_img " >
                            <img src="./images/resultado-pendientes.png" class="imagen"   alt="Imagen-prueba">
                        </div>
                        <p>Una vez que tenemos las pendientes de los tres puntos es necesario calcular los √°ngulos correspondientes a cada punto. Para ello repasaremos lo visto en clase</p>
                        <p>Recordemos que para obtener el √°ngulo en cada uno de los puntos es necesario aplicar la formula:</p>
                        <!-- <p>FORMULA</p> -->
                        <p class="formula">
                            \[ \theta = tan^{-1}  { \left( m_2*m_1 \over 1 + m_2*m_1 \right) }\]
                        </p>
                        <!-- <p>Donde: </p> -->
                        
                        <p>Ahora sustituye los valores de cada una de las pendientes en la formula:</p>
                        <p>Nota: Es importante saber que el valor del resultado estar√° en radianes, es por ello que es necesario realizar una conversi√≥n a grados utilizando una variable auxiliar para guardar el nuevo resultado.</p>
                        <br>
                        <code_example title="C√ìDIGO FUENTE" lang="py">
                            anguloA = (mCA-mBA)/(1+(mCA*mBA))
                            anguloRA = math.atan(anguloA)
                            anguloGA= math.degrees(anguloRA)
                        </code_example>
                        <br>
                        <p> El angulo en radianes se obtiene despues de aplicar la funcion <span>math.atan</span>, es decir arcotangente. Recuerda que este valor se encuentra en radianes, por lo que se utliza la funci√≥n <span>math.degrees</span> para convertir el valor a Grados. </p>
                        <p>Ahora es necesario imprimir el resultado del √°ngulo A con la siguiente l√≠nea:</p>
                        <br>
                        <code_example title="C√ìDIGO FUENTE" lang="py">
                            print("Angulo A", "%.2f"% anguloGA , "¬∞")
                        </code_example>
                        <br>
                        <p>Obteniendo como resultado:</p>
                        <div class="contenedor_img " >
                            <img src="./images/anguloA.png" class="imagen"   alt="Imagen-prueba">
                        </div>
                        <p>Para el √°ngulo B, sustituye las variables:</p>
                        <br>
                        <code_example title="C√ìDIGO FUENTE" lang="py">
                            anguloB = (mBA-mCB)/(1+(mBA*mCB))
                            anguloRB= math.atan(anguloB)
                            anguloGB= math.degrees(anguloRB)
                        </code_example>
                        <br>
                        <br>
                        <code_example title="C√ìDIGO FUENTE" lang="py">
                            print("Angulo B", "%.2f"% anguloGB, "¬∞")
                        </code_example>
                        <br>
                        <p>Obteniendo como resultado:</p>
                        <div class="contenedor_img " >
                            <img src="./images/anguloB.png" class="imagen"   alt="Imagen-prueba">
                        </div>
                        <p>Y por ultimo el √°ngulo C</p>
                        <p>Como nota extra, si el √°ngulo del punto C es mayor a los 90 grados, nuestro algoritmo arrojara un resultado negativo, pero podemos solucionar este peque√±o inconveniente si sumamos al √°ngulo resultante 180 grados de esta manera:</p>
                        <br>
                        <code_example title="C√ìDIGO FUENTE" lang="py">
                            anguloC = (mCB-mCA)/(1+(mCB*mCA))
                            anguloRC = math.atan(anguloC)
                            anguloGC= math.degrees(anguloRC)
                            if (anguloGC < 0):
                                anguloGC = anguloGC + 180
                        </code_example>
                        <br>
                        <br>
                        <code_example title="C√ìDIGO FUENTE" lang="py">
                            print("Angulo C", "%.2f"% anguloGC , "¬∞")
                        </code_example>
                        <br>
                        <p>Obteniendo como resultado:</p>
                        <div class="contenedor_img " >
                            <img src="./images/anguloC.png" class="imagen"   alt="Imagen-prueba">
                        </div>
                        <p> Puedes ver el resultado de manera gr√°fica a continuaci√≥n: </p>
                        <div class="contenedor_img " >
                            <img src="./images/angulosfinal.png" class="imagen"   alt="Imagen-prueba">
                        </div>
                        <div class="contenedor_img " >
                            <img src="./images/resultadofinal.png" class="imagen"   alt="Imagen-prueba">
                        </div>
                        <p></p>

                        
                    
                    
                    
                    </div>
                </div>
                <hr id="thread3" class="right">
            </div>
            <!-- cuestionario -->
            <div>
                <div class="title__cuestion" id="cues">
                    <h1>Cuestionario</h1>
                </div>
                <div class="container3" id="divi">
                    <div id="game" class="games"> 
                        <div id="hud">
                            <div class="hud-item">
                                <p id="progressText" class="hud-prefix">
                                    Pregunta
                                </p>
                                <div id="progressBar">
                                    <div id="progressBarFull"></div>
                                </div>
                            </div>
                            <div class="hud-item">
                                <p class="hud-prefix">
                                    Puntos
                                </p>
                                <h1 class="hud-main-text" id="score">
                                    0
                                </h1>
                            </div>
                        </div>
                        <h1 id="question">pregunta</h1>
                        <div class="choice-container">
                            <p class="choice-prefix">A</p>
                            <p class="choice-text" data-number="1">respuesta</p>
                        </div>
                        <div class="choice-container">
                            <p class="choice-prefix">B</p>
                            <p class="choice-text" data-number="2">respuesta 2</p>
                        </div>
                        <div class="choice-container">
                            <p class="choice-prefix">C</p>
                            <p class="choice-text" data-number="3">respuesta 3</p>
                        </div>
                        <div class="choice-container">
                            <p class="choice-prefix">D</p>
                            <p class="choice-text" data-number="4">respuesta 4</p>
                        </div>
                    </div>
                </div>
                <div id="end" class="flex-center flex-column puntuacion">
                    <form class="end-form-container" id="ending">
                        <div class="title__cuestion">
                            <h2>Obtuviste la siguiente puntuaci√≥n:</h2>
                        </div>
                        <h2 id="end-text"> </h2>
                        <h1 id="finalScore">0 </h1>
                        <a href="#newtry" onclick="location.reload()" class="btn">Intentar de nuevo</a>
                    </form>
                </div>
            </div>
            <!-- conclusiones -->
            <div class="conclusiones" id="conc">
                <div class="conclusiones__container">
                    <div>
                        <h1 class="conclusiones__heading">Reflexiones y conclusiones</h1>
                    </div>
                    <div  class="text__cont">
                            <p>Responde:</p>
                            <!-- <p>1.	¬øC√≥mo podr√≠as medir la utilidad de las predicciones de tu sistema de recomendaci√≥n?</p> <br>
                            <p>2.	¬øSe podr√≠a omitir la fase de categorizaci√≥n y trabajar con distribuciones continuas? ¬øCu√°les ser√≠an las ventajas y desventajas?</p> <br>
                            <p>3.	¬øCrees que el resultado mejorar√≠a si utilizamos una categorizaci√≥n m√°s fina en ambas variables? Por ejemplo, definir cinco categor√≠as de edades y cinco de temperatura.</p> <br>
                            <p>4.	Observa detenidamente los ejemplos que acompa√±an el √∫ltimo paso del procedimiento. ¬øQu√© pasar√≠a si se omitiera en los c√°lculos la divisi√≥n entre el valor de la evidencia ùëÉ(ùëã‚à©ùëå)? ¬øAfectar√≠a a la predicci√≥n resultante? ¬øPor qu√©?</p> <br> -->
                    </div>
                </div>
            </div>
       
        <!-- footer -->
        <div class="footer">
            <div class="footer__wrapper">
                <div class="footer__desc">
                    <img src="./images/unam.png" alt="">
                </div>
                <div class="footer__links">
                    <h2 class="footer__title">Encargado del proyecto y dise√±o de casos </h2>
                    <a href="" class="footer__link"> Dr. Arturo Rodriguez Garcia</a>
                </div>
            </div>
            <div class="footer__wrapper">
                <div class="footer__links">
                    <h2 class="footer__title">Dise√±o de casos y dise√±o de la pagina web</h2>
                    <a href="" class="footer__link"> Jes√∫s Enrique Chimal Mosso</a>
                </div>
                <div class="footer__links">
                    <h2 class="footer__title">Dise√±o de la pagina web </h2>
                    <a href="" class="footer__link"> Gonzalo Ch√°vez Onofre </a>
                </div>
            </div>
        </div>
    <script src="./app.js"></script>
    <script src="./hl.js"></script>
    <script src="./game.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>
    <!-- <link href="https://browser-tools.lazydb.com/code_example/code_example.css" rel="stylesheet"> -->
    <!-- <script src="https://browser-tools.lazydb.com/code_example/code_example.js"></script> -->
</body>
</html>
